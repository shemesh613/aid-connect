<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1976D2">
  <meta name="description" content="Aid Connect - 砖专 砖转 拽">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <title>Aid Connect - 转专转</title>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="login-page">

  <!-- Skip to main content -->
  <a href="#main-content" class="skip-link"> 转 专砖</a>

  <!-- Screen reader announcements -->
  <div id="a11y-announcer" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>

  <!-- Splash / Login Screen -->
  <div class="login-container" role="main" id="main-content">
    <div class="login-logo" role="banner">
      <div class="logo-icon" aria-hidden="true">
        <span class="material-icons-round">volunteer_activism</span>
      </div>
      <h1>Aid Connect</h1>
      <p class="login-subtitle">砖专 砖转 拽</p>
    </div>

    <!-- Step 1: Google Sign In -->
    <div id="step-login" class="login-step active" role="region" aria-label="转专转">
      <button id="btn-google-login" class="btn btn-google btn-full" onclick="signInWithGoogle()" aria-label="转专转 注 砖 Google">
        <svg width="20" height="20" viewBox="0 0 48 48" aria-hidden="true" role="img"><title>Google</title><path fill="#4285F4" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#34A853" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#EA4335" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/></svg>
        转专转 注 Google
      </button>

      <div style="text-align:center; margin:16px 0; color:var(--text-light); font-size:0.85rem;" role="note">
        转专  转 注专 拽
      </div>
    </div>

    <!-- Step 2: Profile Setup (for new users) -->
    <div id="step-profile" class="login-step" role="region" aria-label="砖转 专砖">
      <h2>砖转 专砖</h2>
      <div class="input-group">
        <label for="user-name">砖 </label>
        <input type="text" id="user-name" placeholder="砖专 砖专" aria-required="true" autocomplete="name">
      </div>
      <div class="input-group">
        <label for="user-phone">住驻专 驻 (转)</label>
        <input type="tel" id="user-phone" placeholder="050-1234567" aria-required="true" autocomplete="tel">
      </div>
      <div class="input-group">
        <label id="role-label">转驻拽</label>
        <div class="role-selector" role="radiogroup" aria-labelledby="role-label">
          <button class="role-btn" data-role="volunteer" onclick="selectRole('volunteer')" role="radio" aria-checked="false" aria-label="转 - 拽转 砖转 注专">
            <span class="material-icons-round" aria-hidden="true">favorite</span>
            <span>转</span>
            <small>拽转 砖转 注专</small>
          </button>
          <button class="role-btn" data-role="admin" onclick="selectRole('admin')" role="radio" aria-checked="false" aria-label=" - 爪专转  砖转">
            <span class="material-icons-round" aria-hidden="true">admin_panel_settings</span>
            <span></span>
            <small>爪专转  砖转</small>
          </button>
        </div>
      </div>
      <button id="btn-save-profile" class="btn btn-primary btn-full" onclick="saveProfile()" disabled aria-label="住 注专转">
        <span class="material-icons-round" aria-hidden="true">check_circle</span>
        住
      </button>
    </div>

    <!-- Loading -->
    <div id="step-loading" class="login-step" role="status" aria-label="转专">
      <div class="loading-spinner" aria-hidden="true"></div>
      <p>转专...</p>
    </div>

    <!-- Error -->
    <div id="login-error" class="error-msg" style="display:none;" role="alert" aria-live="assertive"></div>

    <!-- Developer Branding -->
    <div class="developer-branding" role="contentinfo" aria-label="注 注 驻转">
      <img src="icons/developer-logo.jpeg" alt=" 砖砖 '拽 AI" class="developer-logo">
      <div class="developer-info">
        <span class="developer-name">驻转 注" 砖砖 '拽 AI</span>
        <a href="tel:0526953500" class="developer-phone" aria-label="驻 转: 052-695-3500"> 转: 052-695-3500</a>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAiX5hNA0nHE5Ose3XoHY84n3y99pdL4F8",
      authDomain: "aid-connect-2059d.firebaseapp.com",
      projectId: "aid-connect-2059d",
      storageBucket: "aid-connect-2059d.firebasestorage.app",
      messagingSenderId: "214156347220",
      appId: "1:214156347220:web:bbde9a71c36119b1db6ac1",
      measurementId: "G-EFGWRRGVJ4"
    };
    firebase.initializeApp(firebaseConfig);
    firebase.auth().languageCode = 'he';
  </script>
  <script src="js/auth.js"></script>
  <script src="js/accessibility.js"></script>
</body>
</html>
